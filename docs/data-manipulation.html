<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Data manipulation | A Minimal Cookbook for your Basic Statistics Needs in R</title>
  <meta name="description" content="Chapter 6 Data manipulation | A Minimal Cookbook for your Basic Statistics Needs in R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Data manipulation | A Minimal Cookbook for your Basic Statistics Needs in R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Data manipulation | A Minimal Cookbook for your Basic Statistics Needs in R" />
  
  
  

<meta name="author" content="Bernard Liew" />


<meta name="date" content="2020-09-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="input-and-output.html"/>
<link rel="next" href="general-statistics.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Cookbook for your Basic Statistics Needs in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-is-r-so-great"><i class="fa fa-check"></i><b>1.1</b> Why is R so great?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#rrelationship"><i class="fa fa-check"></i><b>1.2</b> Why R is like a relationship…</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#r-resources"><i class="fa fa-check"></i><b>1.3</b> R resources</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#r-cheatsheets"><i class="fa fa-check"></i><b>1.3.1</b> R Cheatsheets</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#getting-r-help-and-inspiration-online"><i class="fa fa-check"></i><b>1.3.2</b> Getting R help and inspiration online</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#other-r-books"><i class="fa fa-check"></i><b>1.3.3</b> Other R books</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="started.html"><a href="started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="started.html"><a href="started.html#installing-base-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installing Base-R and RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="started.html"><a href="started.html#check-for-version-updates"><i class="fa fa-check"></i><b>2.1.1</b> Check for version updates</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="started.html"><a href="started.html#the-four-rstudio-windows"><i class="fa fa-check"></i><b>2.2</b> The four RStudio Windows</a><ul>
<li class="chapter" data-level="2.2.1" data-path="started.html"><a href="started.html#source---your-notepad-for-code"><i class="fa fa-check"></i><b>2.2.1</b> Source - Your notepad for code</a></li>
<li class="chapter" data-level="2.2.2" data-path="started.html"><a href="started.html#console-rs-heart"><i class="fa fa-check"></i><b>2.2.2</b> Console: R’s Heart</a></li>
<li class="chapter" data-level="2.2.3" data-path="started.html"><a href="started.html#environment-history"><i class="fa fa-check"></i><b>2.2.3</b> Environment / History</a></li>
<li class="chapter" data-level="2.2.4" data-path="started.html"><a href="started.html#files-plots-packages-help"><i class="fa fa-check"></i><b>2.2.4</b> Files / Plots / Packages / Help</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="started.html"><a href="started.html#reading-and-writing-code"><i class="fa fa-check"></i><b>2.3</b> Reading and writing Code</a><ul>
<li class="chapter" data-level="2.3.1" data-path="started.html"><a href="started.html#code-chunks"><i class="fa fa-check"></i><b>2.3.1</b> Code Chunks</a></li>
<li class="chapter" data-level="2.3.2" data-path="started.html"><a href="started.html#comments-with"><i class="fa fa-check"></i><b>2.3.2</b> Comments with #</a></li>
<li class="chapter" data-level="2.3.3" data-path="started.html"><a href="started.html#element-numbers-in-output-1"><i class="fa fa-check"></i><b>2.3.3</b> Element numbers in output [1]</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="started.html"><a href="started.html#debugging"><i class="fa fa-check"></i><b>2.4</b> Debugging</a><ul>
<li class="chapter" data-level="2.4.1" data-path="started.html"><a href="started.html#r-is-not-ready"><i class="fa fa-check"></i><b>2.4.1</b> R is not ready (&gt;)</a></li>
<li class="chapter" data-level="2.4.2" data-path="started.html"><a href="started.html#misspelled-object-or-function"><i class="fa fa-check"></i><b>2.4.2</b> Misspelled object or function</a></li>
<li class="chapter" data-level="2.4.3" data-path="started.html"><a href="started.html#punctuation-problems"><i class="fa fa-check"></i><b>2.4.3</b> Punctuation problems</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="started.html"><a href="started.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>3</b> The Basics</a><ul>
<li class="chapter" data-level="3.1" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i><b>3.1</b> Download and load libraries</a></li>
<li class="chapter" data-level="3.2" data-path="basics.html"><a href="basics.html#the-command-line-console"><i class="fa fa-check"></i><b>3.2</b> The command-line (Console)</a></li>
<li class="chapter" data-level="3.3" data-path="basics.html"><a href="basics.html#writing-r-scripts-in-an-editor"><i class="fa fa-check"></i><b>3.3</b> Writing R scripts in an editor</a><ul>
<li class="chapter" data-level="3.3.1" data-path="basics.html"><a href="basics.html#send-code-from-a-source-to-the-console"><i class="fa fa-check"></i><b>3.3.1</b> Send code from a source to the console</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="basics.html"><a href="basics.html#writing-r-scripts-using-notebooks"><i class="fa fa-check"></i><b>3.4</b> Writing R scripts using notebooks</a></li>
<li class="chapter" data-level="3.5" data-path="basics.html"><a href="basics.html#a-brief-style-guide-commenting-and-spacing"><i class="fa fa-check"></i><b>3.5</b> A brief style guide: Commenting and spacing</a><ul>
<li class="chapter" data-level="3.5.1" data-path="basics.html"><a href="basics.html#commenting-code-with-the-pound-sign"><i class="fa fa-check"></i><b>3.5.1</b> Commenting code with the # (pound) sign</a></li>
<li class="chapter" data-level="3.5.2" data-path="basics.html"><a href="basics.html#spacing"><i class="fa fa-check"></i><b>3.5.2</b> Spacing</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="basics.html"><a href="basics.html#objects-and-functions"><i class="fa fa-check"></i><b>3.6</b> Objects and functions</a><ul>
<li class="chapter" data-level="3.6.1" data-path="basics.html"><a href="basics.html#numbers-versus-characters"><i class="fa fa-check"></i><b>3.6.1</b> Numbers versus characters</a></li>
<li class="chapter" data-level="3.6.2" data-path="basics.html"><a href="basics.html#creating-new-objects-with--"><i class="fa fa-check"></i><b>3.6.2</b> Creating new objects with &lt;-</a></li>
<li class="chapter" data-level="3.6.3" data-path="basics.html"><a href="basics.html#how-to-name-objects"><i class="fa fa-check"></i><b>3.6.3</b> How to name objects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html"><i class="fa fa-check"></i><b>4</b> Navigating the Software</a><ul>
<li class="chapter" data-level="" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="4.1" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#getting-and-setting-the-working-directory"><i class="fa fa-check"></i><b>4.1</b> Getting and Setting the Working Directory</a></li>
<li class="chapter" data-level="4.2" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#creating-a-new-rstudio-project"><i class="fa fa-check"></i><b>4.2</b> Creating a new Rstudio project</a></li>
<li class="chapter" data-level="4.3" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#viewing-your-command-history"><i class="fa fa-check"></i><b>4.3</b> Viewing Your Command History</a></li>
<li class="chapter" data-level="4.4" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#installing-packages"><i class="fa fa-check"></i><b>4.4</b> Installing Packages</a><ul>
<li class="chapter" data-level="4.4.1" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#installing-a-new-package"><i class="fa fa-check"></i><b>4.4.1</b> Installing a new package</a></li>
<li class="chapter" data-level="4.4.2" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#loading-a-package"><i class="fa fa-check"></i><b>4.4.2</b> Loading a package</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="started.html"><a href="started.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>5</b> Input and Output</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="5.1" data-path="input-and-output.html"><a href="input-and-output.html#dealing-with-cannot-open-file-in-windows"><i class="fa fa-check"></i><b>5.1</b> Dealing with “Cannot Open File” in Windows</a></li>
<li class="chapter" data-level="5.2" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-.txt-data"><i class="fa fa-check"></i><b>5.2</b> Reading in “.txt” data</a></li>
<li class="chapter" data-level="5.3" data-path="input-and-output.html"><a href="input-and-output.html#writing-to-.txt-data"><i class="fa fa-check"></i><b>5.3</b> writing to “.txt” data</a></li>
<li class="chapter" data-level="5.4" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-.xlsx-excel-data"><i class="fa fa-check"></i><b>5.4</b> Reading in “.xlsx” Excel data</a></li>
<li class="chapter" data-level="5.5" data-path="input-and-output.html"><a href="input-and-output.html#writing-a-data-frame-to-excel"><i class="fa fa-check"></i><b>5.5</b> Writing a Data Frame to Excel</a></li>
<li class="chapter" data-level="5.6" data-path="input-and-output.html"><a href="input-and-output.html#saving-and-loading-into-.rdata-files"><i class="fa fa-check"></i><b>5.6</b> Saving and loading into .RData files</a><ul>
<li class="chapter" data-level="5.6.1" data-path="input-and-output.html"><a href="input-and-output.html#saving-a-few-items-in-workspace"><i class="fa fa-check"></i><b>5.6.1</b> Saving a few items in workspace</a></li>
<li class="chapter" data-level="5.6.2" data-path="input-and-output.html"><a href="input-and-output.html#saving-entire-workspace"><i class="fa fa-check"></i><b>5.6.2</b> Saving entire workspace</a></li>
<li class="chapter" data-level="5.6.3" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-the-saved-workspace"><i class="fa fa-check"></i><b>5.6.3</b> Reading in the saved workspace</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="input-and-output.html"><a href="input-and-output.html#clearing-the-workspace"><i class="fa fa-check"></i><b>5.7</b> Clearing the workspace</a></li>
<li class="chapter" data-level="" data-path="started.html"><a href="started.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="part"><span><b>I Data manipulation via tidyverse</b></span></li>
<li class="chapter" data-level="6" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>6</b> Data manipulation</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#import-data"><i class="fa fa-check"></i>Import data</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#data-overview"><i class="fa fa-check"></i>Data overview</a></li>
<li class="chapter" data-level="6.1" data-path="data-manipulation.html"><a href="data-manipulation.html#peeking-at-the-data"><i class="fa fa-check"></i><b>6.1</b> Peeking at the Data</a></li>
<li class="chapter" data-level="6.2" data-path="data-manipulation.html"><a href="data-manipulation.html#checking-the-number-of-rows-and-columns-we-have-in-our-strength-data"><i class="fa fa-check"></i><b>6.2</b> Checking the number of rows and columns we have in our strength data</a></li>
<li class="chapter" data-level="6.3" data-path="data-manipulation.html"><a href="data-manipulation.html#tidy-data"><i class="fa fa-check"></i><b>6.3</b> Tidy data</a></li>
<li class="chapter" data-level="6.4" data-path="data-manipulation.html"><a href="data-manipulation.html#spreading-and-gathering"><i class="fa fa-check"></i><b>6.4</b> Spreading and gathering</a><ul>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#spreading"><i class="fa fa-check"></i>Spreading</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#gathering"><i class="fa fa-check"></i>Gathering</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-manipulation.html"><a href="data-manipulation.html#renaming-variables-and-values"><i class="fa fa-check"></i><b>6.5</b> Renaming variables and values</a><ul>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#rename-variable-names"><i class="fa fa-check"></i>Rename variable names</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#rename-values-in-variable-names"><i class="fa fa-check"></i>Rename values in variable names</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#creating-factors"><i class="fa fa-check"></i>Creating factors</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-manipulation.html"><a href="data-manipulation.html#making-a-new-variable"><i class="fa fa-check"></i><b>6.6</b> Making a new variable</a></li>
<li class="chapter" data-level="6.7" data-path="data-manipulation.html"><a href="data-manipulation.html#transforming-a-variable"><i class="fa fa-check"></i><b>6.7</b> Transforming a variable</a></li>
<li class="chapter" data-level="6.8" data-path="data-manipulation.html"><a href="data-manipulation.html#filtering"><i class="fa fa-check"></i><b>6.8</b> Filtering</a><ul>
<li class="chapter" data-level="6.8.1" data-path="data-manipulation.html"><a href="data-manipulation.html#keep-rows-based-on-category-you-wish-to-keep"><i class="fa fa-check"></i><b>6.8.1</b> Keep rows based on category you wish to keep</a></li>
<li class="chapter" data-level="6.8.2" data-path="data-manipulation.html"><a href="data-manipulation.html#include-rows-based-on-a-numerical-range"><i class="fa fa-check"></i><b>6.8.2</b> Include rows based on a numerical range</a></li>
<li class="chapter" data-level="6.8.3" data-path="data-manipulation.html"><a href="data-manipulation.html#exclude-rows-variables-based-on-a-numerical-range"><i class="fa fa-check"></i><b>6.8.3</b> Exclude rows variables based on a numerical range</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="data-manipulation.html"><a href="data-manipulation.html#selecting"><i class="fa fa-check"></i><b>6.9</b> Selecting</a></li>
<li class="chapter" data-level="6.10" data-path="data-manipulation.html"><a href="data-manipulation.html#check-for-missing-na-values"><i class="fa fa-check"></i><b>6.10</b> Check for missing NA values</a><ul>
<li class="chapter" data-level="6.10.1" data-path="data-manipulation.html"><a href="data-manipulation.html#check-if-there-is-any-missing"><i class="fa fa-check"></i><b>6.10.1</b> Check if there is any missing</a></li>
<li class="chapter" data-level="6.10.2" data-path="data-manipulation.html"><a href="data-manipulation.html#find-the-number-of-missing-values-per-column"><i class="fa fa-check"></i><b>6.10.2</b> Find the number of missing values per column</a></li>
<li class="chapter" data-level="6.10.3" data-path="data-manipulation.html"><a href="data-manipulation.html#keep-rows-with-100-no-na-across-any-columns"><i class="fa fa-check"></i><b>6.10.3</b> Keep rows with 100% no NA across any columns</a></li>
<li class="chapter" data-level="6.10.4" data-path="data-manipulation.html"><a href="data-manipulation.html#keep-rows-with-100-no-na-across-the-columns-you-want"><i class="fa fa-check"></i><b>6.10.4</b> Keep rows with 100% no NA across the columns you want</a></li>
<li class="chapter" data-level="6.10.5" data-path="data-manipulation.html"><a href="data-manipulation.html#keep-rows-with-na-across-columns-you-want."><i class="fa fa-check"></i><b>6.10.5</b> Keep rows <strong>with</strong> NA across columns you want.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="started.html"><a href="started.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="general-statistics.html"><a href="general-statistics.html"><i class="fa fa-check"></i><b>7</b> General statistics</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#import-data"><i class="fa fa-check"></i>Import data</a></li>
<li class="chapter" data-level="" data-path="general-statistics.html"><a href="general-statistics.html#rename-column-names"><i class="fa fa-check"></i>Rename column names</a></li>
<li class="chapter" data-level="7.1" data-path="general-statistics.html"><a href="general-statistics.html#summarizing-your-data"><i class="fa fa-check"></i><b>7.1</b> Summarizing your data</a></li>
<li class="chapter" data-level="7.2" data-path="general-statistics.html"><a href="general-statistics.html#finding-the-correlation-between-variables"><i class="fa fa-check"></i><b>7.2</b> Finding the correlation between variables</a></li>
<li class="chapter" data-level="7.3" data-path="general-statistics.html"><a href="general-statistics.html#summarizing-your-data-at-a-group-level"><i class="fa fa-check"></i><b>7.3</b> Summarizing your data at a group level</a></li>
<li class="chapter" data-level="7.4" data-path="general-statistics.html"><a href="general-statistics.html#testing-the-mean-of-a-sample-t-test"><i class="fa fa-check"></i><b>7.4</b> Testing the Mean of a Sample (t Test)</a></li>
<li class="chapter" data-level="7.5" data-path="general-statistics.html"><a href="general-statistics.html#comparing-the-means-of-two-samples"><i class="fa fa-check"></i><b>7.5</b> Comparing the Means of Two Samples</a></li>
<li class="chapter" data-level="7.6" data-path="general-statistics.html"><a href="general-statistics.html#comparing-the-means-of-two-samples-nonparametrically"><i class="fa fa-check"></i><b>7.6</b> Comparing the means of Two Samples Nonparametrically</a></li>
<li class="chapter" data-level="" data-path="started.html"><a href="started.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>8</b> Data visualisation</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#import-data"><i class="fa fa-check"></i>Import data</a></li>
<li class="chapter" data-level="" data-path="general-statistics.html"><a href="general-statistics.html#rename-column-names"><i class="fa fa-check"></i>Rename column names</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#intro-Graphics"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#the-illustrations"><i class="fa fa-check"></i>The Illustrations</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#notes-on-ggplot2-basics"><i class="fa fa-check"></i>Notes on ggplot2 basics</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#long-versus-wide-data-with-ggplot"><i class="fa fa-check"></i>“Long” Versus “Wide” Data with ggplot</a></li>
</ul></li>
<li class="chapter" data-level="8.1" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-a-scatter-plot"><i class="fa fa-check"></i><b>8.1</b> Creating a Scatter Plot</a></li>
<li class="chapter" data-level="8.2" data-path="data-visualisation.html"><a href="data-visualisation.html#cleaveland-dotplots"><i class="fa fa-check"></i><b>8.2</b> Cleaveland dotplots</a></li>
<li class="chapter" data-level="8.3" data-path="data-visualisation.html"><a href="data-visualisation.html#adding-a-title-and-labels"><i class="fa fa-check"></i><b>8.3</b> Adding a Title and Labels</a></li>
<li class="chapter" data-level="8.4" data-path="data-visualisation.html"><a href="data-visualisation.html#adding-or-removing-a-grid"><i class="fa fa-check"></i><b>8.4</b> Adding (or Removing) a Grid</a></li>
<li class="chapter" data-level="8.5" data-path="data-visualisation.html"><a href="data-visualisation.html#applying-a-theme-to-a-ggplot-figure"><i class="fa fa-check"></i><b>8.5</b> Applying a Theme to a ggplot Figure</a></li>
<li class="chapter" data-level="8.6" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-a-scatter-plot-of-multiple-groups"><i class="fa fa-check"></i><b>8.6</b> Creating a Scatter Plot of Multiple Groups</a></li>
<li class="chapter" data-level="8.7" data-path="data-visualisation.html"><a href="data-visualisation.html#adding-or-removing-a-legend"><i class="fa fa-check"></i><b>8.7</b> Adding (or Removing) a Legend</a></li>
<li class="chapter" data-level="8.8" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-one-scatter-plot-for-each-group"><i class="fa fa-check"></i><b>8.8</b> Creating One Scatter Plot for Each Group</a></li>
<li class="chapter" data-level="8.9" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-a-bar-chart"><i class="fa fa-check"></i><b>8.9</b> Creating a Bar Chart</a></li>
<li class="chapter" data-level="8.10" data-path="data-visualisation.html"><a href="data-visualisation.html#adding-standard-deviation-error-bars-to-a-bar-chart"><i class="fa fa-check"></i><b>8.10</b> Adding standard deviation error bars to a Bar Chart</a></li>
<li class="chapter" data-level="8.11" data-path="data-visualisation.html"><a href="data-visualisation.html#custom-coloring-a-bar-chart"><i class="fa fa-check"></i><b>8.11</b> Custom coloring a Bar Chart</a></li>
<li class="chapter" data-level="8.12" data-path="data-visualisation.html"><a href="data-visualisation.html#histogram"><i class="fa fa-check"></i><b>8.12</b> Histogram</a></li>
<li class="chapter" data-level="8.13" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-a-boxplot"><i class="fa fa-check"></i><b>8.13</b> Creating a Boxplot</a></li>
<li class="chapter" data-level="8.14" data-path="data-visualisation.html"><a href="data-visualisation.html#recipe-id188"><i class="fa fa-check"></i><b>8.14</b> Writing Your Plot to a File</a></li>
<li class="chapter" data-level="" data-path="started.html"><a href="started.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="part"><span><b>II Statistical Inference via infer</b></span></li>
<li class="chapter" data-level="9" data-path="sampling.html"><a href="sampling.html"><i class="fa fa-check"></i><b>9</b> Sampling</a><ul>
<li class="chapter" data-level="" data-path="sampling.html"><a href="sampling.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="9.1" data-path="sampling.html"><a href="sampling.html#sampling-activity"><i class="fa fa-check"></i><b>9.1</b> Sampling bowl activity</a><ul>
<li class="chapter" data-level="9.1.1" data-path="sampling.html"><a href="sampling.html#what-proportion-of-this-bowls-balls-are-red"><i class="fa fa-check"></i><b>9.1.1</b> What proportion of this bowl’s balls are red?</a></li>
<li class="chapter" data-level="9.1.2" data-path="sampling.html"><a href="sampling.html#using-the-shovel-once"><i class="fa fa-check"></i><b>9.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="9.1.3" data-path="sampling.html"><a href="sampling.html#student-shovels"><i class="fa fa-check"></i><b>9.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="9.1.4" data-path="sampling.html"><a href="sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>9.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="sampling.html"><a href="sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>9.2</b> Virtual sampling</a><ul>
<li class="chapter" data-level="9.2.1" data-path="sampling.html"><a href="sampling.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>9.2.1</b> Using the virtual shovel once</a></li>
<li class="chapter" data-level="9.2.2" data-path="sampling.html"><a href="sampling.html#using-the-virtual-shovel-33-times"><i class="fa fa-check"></i><b>9.2.2</b> Using the virtual shovel 33 times</a></li>
<li class="chapter" data-level="9.2.3" data-path="sampling.html"><a href="sampling.html#shovel-1000-times"><i class="fa fa-check"></i><b>9.2.3</b> Using the virtual shovel 1000 times</a></li>
<li class="chapter" data-level="9.2.4" data-path="sampling.html"><a href="sampling.html#different-shovels"><i class="fa fa-check"></i><b>9.2.4</b> Using different shovels</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="sampling.html"><a href="sampling.html#sampling-framework"><i class="fa fa-check"></i><b>9.3</b> Sampling framework</a><ul>
<li class="chapter" data-level="9.3.1" data-path="sampling.html"><a href="sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>9.3.1</b> Terminology &amp; notation</a></li>
<li class="chapter" data-level="9.3.2" data-path="sampling.html"><a href="sampling.html#sampling-definitions"><i class="fa fa-check"></i><b>9.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="9.3.3" data-path="sampling.html"><a href="sampling.html#moral-of-the-story"><i class="fa fa-check"></i><b>9.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="sampling.html"><a href="sampling.html#sampling-case-study"><i class="fa fa-check"></i><b>9.4</b> Case study: Polls</a></li>
<li class="chapter" data-level="9.5" data-path="sampling.html"><a href="sampling.html#sampling-conclusion"><i class="fa fa-check"></i><b>9.5</b> Conclusion</a><ul>
<li class="chapter" data-level="9.5.1" data-path="sampling.html"><a href="sampling.html#sampling-conclusion-table"><i class="fa fa-check"></i><b>9.5.1</b> Sampling scenarios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>10</b> Bootstrapping &amp; Confidence Intervals</a><ul>
<li class="chapter" data-level="" data-path="sampling.html"><a href="sampling.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#resampling-tactile"><i class="fa fa-check"></i><b>10.1</b> Pennies activity</a><ul>
<li class="chapter" data-level="10.1.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#what-is-the-average-year-on-us-pennies-in-2019"><i class="fa fa-check"></i><b>10.1.1</b> What is the average year on US pennies in 2019?</a></li>
<li class="chapter" data-level="10.1.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#resampling-once"><i class="fa fa-check"></i><b>10.1.2</b> Resampling once</a></li>
<li class="chapter" data-level="10.1.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#student-resamples"><i class="fa fa-check"></i><b>10.1.3</b> Resampling 35 times</a></li>
<li class="chapter" data-level="10.1.4" data-path="sampling.html"><a href="sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>10.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#resampling-simulation"><i class="fa fa-check"></i><b>10.2</b> Computer simulation of resampling</a><ul>
<li class="chapter" data-level="10.2.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#virtually-resampling-once"><i class="fa fa-check"></i><b>10.2.1</b> Virtually resampling once</a></li>
<li class="chapter" data-level="10.2.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-35-replicates"><i class="fa fa-check"></i><b>10.2.2</b> Virtually resampling 35 times</a></li>
<li class="chapter" data-level="10.2.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-1000-replicates"><i class="fa fa-check"></i><b>10.2.3</b> Virtually resampling 1000 times</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#ci-build-up"><i class="fa fa-check"></i><b>10.3</b> Understanding confidence intervals</a><ul>
<li class="chapter" data-level="10.3.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>10.3.1</b> Percentile method</a></li>
<li class="chapter" data-level="10.3.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#se-method"><i class="fa fa-check"></i><b>10.3.2</b> Standard error method</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-process"><i class="fa fa-check"></i><b>10.4</b> Constructing confidence intervals</a><ul>
<li class="chapter" data-level="10.4.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#original-workflow"><i class="fa fa-check"></i><b>10.4.1</b> Original workflow</a></li>
<li class="chapter" data-level="10.4.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#infer-workflow"><i class="fa fa-check"></i><b>10.4.2</b> infer package workflow</a></li>
<li class="chapter" data-level="10.4.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#percentile-method-infer"><i class="fa fa-check"></i><b>10.4.3</b> Percentile method with infer</a></li>
<li class="chapter" data-level="10.4.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#infer-se"><i class="fa fa-check"></i><b>10.4.4</b> Standard error method with infer</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="confidence-intervals.html"><a href="confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>10.5</b> Interpreting confidence intervals</a><ul>
<li class="chapter" data-level="10.5.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#ilyas-yohan"><i class="fa fa-check"></i><b>10.5.1</b> Did the net capture the fish?</a></li>
<li class="chapter" data-level="10.5.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#shorthand"><i class="fa fa-check"></i><b>10.5.2</b> Precise &amp; shorthand interpretation</a></li>
<li class="chapter" data-level="10.5.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#ci-width"><i class="fa fa-check"></i><b>10.5.3</b> Width of confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="confidence-intervals.html"><a href="confidence-intervals.html#ci-conclusion"><i class="fa fa-check"></i><b>10.6</b> Conclusion</a><ul>
<li class="chapter" data-level="10.6.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-vs-sampling"><i class="fa fa-check"></i><b>10.6.1</b> Comparing bootstrap and sampling distributions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>11</b> Hypothesis Testing</a><ul>
<li class="chapter" data-level="" data-path="sampling.html"><a href="sampling.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="11.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#ht-activity"><i class="fa fa-check"></i><b>11.1</b> Promotions activity</a><ul>
<li class="chapter" data-level="11.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#does-gender-affect-promotions-at-bank"><i class="fa fa-check"></i><b>11.1.1</b> Does gender affect promotions at bank?</a></li>
<li class="chapter" data-level="11.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#shuffling-once"><i class="fa fa-check"></i><b>11.1.2</b> Shuffling once</a></li>
<li class="chapter" data-level="11.1.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#shuffling-16-times"><i class="fa fa-check"></i><b>11.1.3</b> Shuffling 16 times</a></li>
<li class="chapter" data-level="11.1.4" data-path="sampling.html"><a href="sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>11.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#understanding-ht"><i class="fa fa-check"></i><b>11.2</b> Understanding hypothesis tests</a></li>
<li class="chapter" data-level="11.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#ht-infer"><i class="fa fa-check"></i><b>11.3</b> Conducting hypothesis tests</a><ul>
<li class="chapter" data-level="11.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#infer-workflow-ht"><i class="fa fa-check"></i><b>11.3.1</b> infer package workflow</a></li>
<li class="chapter" data-level="11.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#comparing-infer-workflows"><i class="fa fa-check"></i><b>11.3.2</b> Comparison with confidence intervals</a></li>
<li class="chapter" data-level="11.3.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#only-one-test"><i class="fa fa-check"></i><b>11.3.3</b> “There is only one test”</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#ht-interpretation"><i class="fa fa-check"></i><b>11.4</b> Interpreting hypothesis tests</a><ul>
<li class="chapter" data-level="11.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#trial"><i class="fa fa-check"></i><b>11.4.1</b> Two possible outcomes</a></li>
<li class="chapter" data-level="11.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#types-of-errors"><i class="fa fa-check"></i><b>11.4.2</b> Types of errors</a></li>
<li class="chapter" data-level="11.4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#choosing-alpha"><i class="fa fa-check"></i><b>11.4.3</b> How do we choose alpha?</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#ht-case-study"><i class="fa fa-check"></i><b>11.5</b> Case study: Are action or romance movies rated higher?</a><ul>
<li class="chapter" data-level="11.5.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#imdb-data"><i class="fa fa-check"></i><b>11.5.1</b> IMDb ratings data</a></li>
<li class="chapter" data-level="11.5.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#sampling-scenario"><i class="fa fa-check"></i><b>11.5.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="11.5.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#conducting-the-hypothesis-test"><i class="fa fa-check"></i><b>11.5.3</b> Conducting the hypothesis test</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#conclusion"><i class="fa fa-check"></i><b>11.6</b> Conclusion</a><ul>
<li class="chapter" data-level="11.6.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#theory-hypo"><i class="fa fa-check"></i><b>11.6.1</b> Theory-based hypothesis tests</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Worked example</b></span></li>
<li class="chapter" data-level="12" data-path="is-ankle-strength-different-between-two-groups-at-baseline.html"><a href="is-ankle-strength-different-between-two-groups-at-baseline.html"><i class="fa fa-check"></i><b>12</b> Is ankle strength different between two groups at baseline</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#import-data"><i class="fa fa-check"></i>Import data</a></li>
<li class="chapter" data-level="12.1" data-path="data-manipulation.html"><a href="data-manipulation.html#data-manipulation"><i class="fa fa-check"></i><b>12.1</b> Data manipulation</a></li>
<li class="chapter" data-level="12.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-testing"><i class="fa fa-check"></i><b>12.2</b> Hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="is-knee-strength-change-over-time-between-two-groups-different.html"><a href="is-knee-strength-change-over-time-between-two-groups-different.html"><i class="fa fa-check"></i><b>13</b> Is knee strength change over time between two groups different</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#import-data"><i class="fa fa-check"></i>Import data</a></li>
<li class="chapter" data-level="13.1" data-path="data-manipulation.html"><a href="data-manipulation.html#data-manipulation"><i class="fa fa-check"></i><b>13.1</b> Data manipulation</a></li>
<li class="chapter" data-level="13.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-testing"><i class="fa fa-check"></i><b>13.2</b> Hypothesis testing</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Minimal Cookbook for your Basic Statistics Needs in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-manipulation" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Data manipulation</h1>
<div id="download-and-load-libraries" class="section level2 unnumbered">
<h2>Download and load libraries</h2>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(<span class="st">&quot;pacman&quot;</span>)) <span class="kw">install.packages</span>(<span class="st">&quot;pacman&quot;</span>)</a>
<a class="sourceLine" id="cb90-2" title="2">pacman<span class="op">::</span><span class="kw">p_load</span>(tidyverse, <span class="co"># All purpose wrangling for dataframes</span></a>
<a class="sourceLine" id="cb90-3" title="3">               readr, <span class="co"># importing and writing data</span></a>
<a class="sourceLine" id="cb90-4" title="4">               openxlsx, <span class="co"># writing excel documents</span></a>
<a class="sourceLine" id="cb90-5" title="5">               purrr, <span class="co"># for piping %&gt;%</span></a>
<a class="sourceLine" id="cb90-6" title="6">               corrplot, <span class="co"># for correlation</span></a>
<a class="sourceLine" id="cb90-7" title="7">               knitr,</a>
<a class="sourceLine" id="cb90-8" title="8">               yarrr)</a></code></pre></div>
</div>
<div id="import-data" class="section level2 unnumbered">
<h2>Import data</h2>
<p>Let’s load the 3 files from <code>data</code> folder into the workspace again.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1">subjdat &lt;-<span class="st">  </span><span class="kw">read_delim</span> (<span class="dt">file =</span> <span class="st">&quot;data/SubjectData.txt&quot;</span>, <span class="co"># file name</span></a>
<a class="sourceLine" id="cb91-2" title="2">                        <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="co"># file separater</span></a>
<a class="sourceLine" id="cb91-3" title="3">                        <span class="dt">col_names =</span> <span class="ot">TRUE</span>) <span class="co"># the first row of the data is a header row</span></a>
<a class="sourceLine" id="cb91-4" title="4"></a>
<a class="sourceLine" id="cb91-5" title="5">scalfac &lt;-<span class="st">  </span><span class="kw">read_delim</span> (<span class="dt">file =</span> <span class="st">&quot;data/ScaleFact.txt&quot;</span>, <span class="co"># file name</span></a>
<a class="sourceLine" id="cb91-6" title="6">                        <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="co"># file separater</span></a>
<a class="sourceLine" id="cb91-7" title="7">                        <span class="dt">col_names =</span> <span class="ot">TRUE</span>) <span class="co"># the first row of the data is a header row</span></a>
<a class="sourceLine" id="cb91-8" title="8"></a>
<a class="sourceLine" id="cb91-9" title="9">strn &lt;-<span class="st">  </span><span class="kw">read.xlsx</span> (<span class="dt">xlsxFile =</span> <span class="st">&quot;data/STRENGTH.xlsx&quot;</span>)</a></code></pre></div>
</div>
<div id="data-overview" class="section level2 unnumbered">
<h2>Data overview</h2>
<p>Design: This is a randomized controlled trial of two groups undergoing two strength training programs. Each subject was tested before and after training for their ankle and knee extensor strength variables.</p>
<p>Number of Subjects:32
Number of Groups: 2
Number of sides: 2
Number of repetitions: variable between 2 to 4</p>
</div>
<div id="peeking-at-the-data" class="section level2">
<h2><span class="header-section-number">6.1</span> Peeking at the Data</h2>
<p>Let’s take a look at the first 6 (by default) rows of data:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1"><span class="kw">head</span>(subjdat) <span class="co">#look at the top rows</span></a></code></pre></div>
<pre><code>## # A tibble: 6 x 17
##    SUBJ GROUP   AGE    WT    HT   BMI `RunExp ` RunFreq6wks RunFreq12mths
##   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
## 1     1 G        29  82.3  182   24.8        10           3             3
## 2     2 G        34  42.3  161   16.3         5           2             2
## 3     3 T        36  90.5  166   32.8         3           5             3
## 4     4 G        42  82.8  183   24.7        10           1             1
## 5     5 T        28  66.3  169   23.2         5           5             4
## 6     6 T        34  72.8  172.  24.5        16           6             6
## # ... with 8 more variables: RunDistWkly6wks &lt;dbl&gt;, RunDistWkly12mths &lt;dbl&gt;,
## #   LoadRunExp &lt;chr&gt;, RunLoad &lt;dbl&gt;, HxLoad &lt;chr&gt;, WtTrainFreq6wks &lt;dbl&gt;,
## #   WtTrainFreq12mths &lt;dbl&gt;, WtTrainStatus &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1"><span class="kw">tail</span> (subjdat) <span class="co">#look at the bottom rows</span></a></code></pre></div>
<pre><code>## # A tibble: 6 x 17
##    SUBJ GROUP   AGE    WT    HT   BMI `RunExp ` RunFreq6wks RunFreq12mths
##   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
## 1    27 T        20  57.5  168.  20.4        10           4             3
## 2    28 T        26  62.8  157.  25.6         2           1             3
## 3    29 T        18  83.4  183.  24.8         3           3             4
## 4    30 G        29  83.9  178.  26.4        15           4             2
## 5    31 G        32  67.9  177   21.7         5           1             2
## 6    32 G        19  47.7  167   17.1        10           3             1
## # ... with 8 more variables: RunDistWkly6wks &lt;dbl&gt;, RunDistWkly12mths &lt;dbl&gt;,
## #   LoadRunExp &lt;chr&gt;, RunLoad &lt;dbl&gt;, HxLoad &lt;chr&gt;, WtTrainFreq6wks &lt;dbl&gt;,
## #   WtTrainFreq12mths &lt;dbl&gt;, WtTrainStatus &lt;chr&gt;</code></pre>
</div>
<div id="checking-the-number-of-rows-and-columns-we-have-in-our-strength-data" class="section level2">
<h2><span class="header-section-number">6.2</span> Checking the number of rows and columns we have in our strength data</h2>
<p>I like to do this first, as it is the most basic check - does the number columns and rows conform to the number of variables you entered and the number of observations measured.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1">dimn &lt;-<span class="st"> </span><span class="kw">dim</span>(strn)</a>
<a class="sourceLine" id="cb96-2" title="2"></a>
<a class="sourceLine" id="cb96-3" title="3"><span class="co"># Print the number </span></a>
<a class="sourceLine" id="cb96-4" title="4"><span class="kw">cat</span> (<span class="st">&quot;The number of rows is:&quot;</span>,  dimn[<span class="dv">1</span>], <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a></code></pre></div>
<pre><code>## The number of rows is: 992</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1"><span class="kw">cat</span> (<span class="st">&quot;The number of cols is:&quot;</span>,  dimn[<span class="dv">2</span>], <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a></code></pre></div>
<pre><code>## The number of cols is: 12</code></pre>
</div>
<div id="tidy-data" class="section level2">
<h2><span class="header-section-number">6.3</span> Tidy data</h2>
<p>You can represent the same underlying data in multiple ways. The example below shows the same data organised in four different ways. This dataset is <strong>not the data you loaded</strong>, but rather came with the <code>tidyverse package</code>. Each dataset shows the same values of four variables <em>country</em>, <em>year</em>, <em>population</em>, and <em>cases</em>, but each dataset organises the values in a different way.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1">table1</a></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   country      year  cases population
##   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1">table2</a></code></pre></div>
<pre><code>## # A tibble: 12 x 4
##    country      year type            count
##    &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;           &lt;int&gt;
##  1 Afghanistan  1999 cases             745
##  2 Afghanistan  1999 population   19987071
##  3 Afghanistan  2000 cases            2666
##  4 Afghanistan  2000 population   20595360
##  5 Brazil       1999 cases           37737
##  6 Brazil       1999 population  172006362
##  7 Brazil       2000 cases           80488
##  8 Brazil       2000 population  174504898
##  9 China        1999 cases          212258
## 10 China        1999 population 1272915272
## 11 China        2000 cases          213766
## 12 China        2000 population 1280428583</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1">table3</a></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   country      year rate             
## * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
## 1 Afghanistan  1999 745/19987071     
## 2 Afghanistan  2000 2666/20595360    
## 3 Brazil       1999 37737/172006362  
## 4 Brazil       2000 80488/174504898  
## 5 China        1999 212258/1272915272
## 6 China        2000 213766/1280428583</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1"><span class="co"># Spread across two tables</span></a>
<a class="sourceLine" id="cb106-2" title="2">table4a  <span class="co"># cases</span></a></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   country     `1999` `2000`
## * &lt;chr&gt;        &lt;int&gt;  &lt;int&gt;
## 1 Afghanistan    745   2666
## 2 Brazil       37737  80488
## 3 China       212258 213766</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1">table4b  <span class="co"># population</span></a></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   country         `1999`     `2000`
## * &lt;chr&gt;            &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan   19987071   20595360
## 2 Brazil       172006362  174504898
## 3 China       1272915272 1280428583</code></pre>
<p>These are all representations of the same underlying data, but they are not equally easy to use. One dataset, the tidy dataset, will be much easier to work with.</p>
<p>There are three interrelated rules which make a dataset tidy:</p>
<ol style="list-style-type: decimal">
<li>Each variable must have its own column.</li>
<li>Each observation must have its own row.</li>
<li>Each value must have its own cell.</li>
</ol>
<p>Figure <a href="data-manipulation.html#fig:tidy-structure">6.1</a> shows the rules visually.</p>
<div class="figure"><span id="fig:tidy-structure"></span>
<img src="images/tidy-1.png" alt="Following three rules makes a dataset tidy: variables are in columns, observations are in rows, and values are in cells." width="100%" />
<p class="caption">
Figure 6.1: Following three rules makes a dataset tidy: variables are in columns, observations are in rows, and values are in cells.
</p>
</div>
<p>These three rules are interrelated because it’s impossible to only satisfy two of the three.</p>
<p>In this example, only <code>table1</code> is tidy. It’s the only representation where each column is a variable.</p>
<p>Why ensure that your data is tidy? There are two main advantages:</p>
<ol style="list-style-type: decimal">
<li><p>There’s a general advantage to picking one consistent way of storing
data. If you have a consistent data structure, it’s easier to learn the
tools that work with it because they have an underlying uniformity.</p></li>
<li><p>There’s a specific advantage to placing variables in columns because
it allows R’s vectorised nature to shine. As you learned in
<a href="#mutate-funs">mutate</a> and <a href="#summary-funs">summary functions</a>, most
built-in R functions work with vectors of values. That makes transforming
tidy data feel particularly natural.</p></li>
</ol>
<p>Let’s have a look at our data <code>strn</code> which is in a tidy format. <strong>the “right” way</strong></p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" title="1"><span class="kw">head</span>(strn) <span class="co">#look at the top rows</span></a></code></pre></div>
<pre><code>##   SUBJ GROUP TIME SIDE SET REP AEXTTORQ AEXTWORK AEXTPOW KEXTTORQ KEXTWORK
## 1    1     G  PRE    R   1   1       70       34      58      111      107
## 2    1     G  PRE    R   1   2       72       36      70      137      113
## 3    1     G  PRE    R   1   3       73       37      67      160      130
## 4    1     G  PRE    R   1   4       73       35      69      137      115
## 5    1     G  PRE    R   2   1       72       36      65      160      140
## 6    1     G  PRE    R   2   2       72       32      51      163      139
##   KEXTPOW
## 1      92
## 2     139
## 3     136
## 4     121
## 5     164
## 6     165</code></pre>
</div>
<div id="spreading-and-gathering" class="section level2">
<h2><span class="header-section-number">6.4</span> Spreading and gathering</h2>
<p>The principles of tidy data seem so obvious that you might wonder if you’ll ever encounter a dataset that isn’t tidy. Unfortunately, however, most data that you will encounter will be untidy. There are two main reasons:</p>
<ol style="list-style-type: decimal">
<li><p>Most people aren’t familiar with the principles of tidy data, and it’s hard
to derive them yourself unless you spend a <em>lot</em> of time working with data.</p></li>
<li><p>Data is often organised to facilitate some use other than analysis. For
example, data is often organised to make entry as easy as possible.</p></li>
</ol>
<p>This means for most real analyses, you’ll need to do some tidying. The first step is always to figure out what the variables and observations are. Sometimes this is easy; other times you’ll need to consult with the people who originally generated the data.
The second step is to resolve one of two common problems:</p>
<ol style="list-style-type: decimal">
<li><p>One variable might be spread across multiple columns.</p></li>
<li><p>One observation might be scattered across multiple rows.</p></li>
</ol>
<p>Typically a dataset will only suffer from one of these problems; it’ll only suffer from both if you’re really unlucky! To fix these problems, you’ll need the two most important functions in tidyr: <code>gather()</code> and <code>spread()</code>.</p>
<div id="spreading" class="section level3 unnumbered">
<h3>Spreading</h3>
<p>Let’s make it wide. This is how you probably entered your data.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" title="1">wide &lt;-<span class="st"> </span>strn <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># original data</span></a>
<a class="sourceLine" id="cb112-2" title="2"><span class="st">  </span><span class="kw">unite</span> (<span class="st">&quot;time_side_set_rep&quot;</span>, <span class="co"># give the new variable a name</span></a>
<a class="sourceLine" id="cb112-3" title="3">         TIME, SIDE, SET, REP, <span class="co"># merged different columns of data into one</span></a>
<a class="sourceLine" id="cb112-4" title="4">         <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># choose a separator. I like &quot;_&quot;</span></a>
<a class="sourceLine" id="cb112-5" title="5"><span class="st">  </span><span class="kw">select</span> (SUBJ, GROUP, time_side_set_rep, AEXTTORQ) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># choose columns which I want and discard the rest</span></a>
<a class="sourceLine" id="cb112-6" title="6"><span class="st">  </span><span class="kw">spread</span> (<span class="dt">key =</span> time_side_set_rep, <span class="dt">value =</span> AEXTTORQ) <span class="co"># spread it</span></a>
<a class="sourceLine" id="cb112-7" title="7"></a>
<a class="sourceLine" id="cb112-8" title="8"><span class="kw">head</span> (wide)</a></code></pre></div>
<pre><code>##   SUBJ GROUP POST_L_1_1 POST_L_1_2 POST_L_1_3 POST_L_1_4 POST_L_2_1 POST_L_2_2
## 1    1     G         73         79         78         76         79         81
## 2    2     G         60         56         58         61         57         60
## 3    3     T         72         75         76         68         74         64
## 4    4     G         90         95         94         89        104        100
## 5    5     T        100         93         91         98        101        106
## 6    6     T        109        115        113        102        109        117
##   POST_L_2_3 POST_L_2_4 POST_R_1_1 POST_R_1_2 POST_R_1_3 POST_R_1_4 POST_R_2_1
## 1         78         79         74         76         77         80         86
## 2         64         64         60         66         64         68         58
## 3         84         74         94         92         93         94         88
## 4        105        111         93         92         92         92        108
## 5        104        104         92         94         92         89         93
## 6        118        118        108        111        105        120        127
##   POST_R_2_2 POST_R_2_3 POST_R_2_4 PRE_L_1_1 PRE_L_1_2 PRE_L_1_3 PRE_L_1_4
## 1         88         89         85        66        59        66        63
## 2         62         62         62        41        44        42        41
## 3         87         86         88        55        45        54        58
## 4        107        104        106        58        60        57        58
## 5         87         92         85        62        64        57        57
## 6        120        120        121        84        88        80        78
##   PRE_L_2_1 PRE_L_2_2 PRE_L_2_3 PRE_L_2_4 PRE_R_1_1 PRE_R_1_2 PRE_R_1_3
## 1        64        72        66        67    70.000    72.000   73.0000
## 2        42        41        40        33    52.000    54.000   60.0000
## 3        54        56        53        52    57.000    64.000   65.0000
## 4        58        59        61        65    58.000    50.000   65.0000
## 5        70        68        69        71    68.132    65.249   67.9594
## 6        85        79        82        86    76.000   100.000   89.0000
##   PRE_R_1_4 PRE_R_2_1 PRE_R_2_2 PRE_R_2_3 PRE_R_2_4
## 1   73.0000   72.0000   72.0000    67.000   72.0000
## 2   56.0000   47.0000   47.0000    50.000   54.0000
## 3   62.0000   76.0000   75.0000    86.000   82.0000
## 4   71.0000   75.0000   65.0000    71.000   75.0000
## 5   63.5177   60.1266   58.8245    63.419   58.0649
## 6   90.0000   88.0000   80.0000    86.000   88.0000</code></pre>
</div>
<div id="gathering" class="section level3 unnumbered">
<h3>Gathering</h3>
<p>If your data is wide originally, make sure you have a very consistent labelling system. Then you can convert between formats easily.</p>
<p>Let’s make it tall again. Converting messy data to tidy data. Why is it important to have a consistent naming terminology? It is a bad idea to use mathematical operators (e.g. "*“,”-“,”") when naming, bad idea to have spaces when naming, and long names (e.g.“ankle_kinematics_sagittal_plane”).</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" title="1">tall  &lt;-<span class="st">  </span>wide <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-2" title="2"><span class="st">  </span><span class="kw">gather</span> (<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="co"># I want to gather all columns except the first two columns</span></a>
<a class="sourceLine" id="cb114-3" title="3">          <span class="dt">key =</span> time_side_set_rep, <span class="co"># column name which contains the variable names</span></a>
<a class="sourceLine" id="cb114-4" title="4">          <span class="dt">value =</span> AEXTTORQ) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># column name containing the values</span></a>
<a class="sourceLine" id="cb114-5" title="5"><span class="st">  </span><span class="kw">separate</span> (time_side_set_rep, <span class="co"># split a long word in one column</span></a>
<a class="sourceLine" id="cb114-6" title="6">            <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;TIME&quot;</span>, <span class="st">&quot;SIDE&quot;</span>, <span class="st">&quot;SET&quot;</span>, <span class="st">&quot;REP&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>) <span class="co"># give it column names</span></a>
<a class="sourceLine" id="cb114-7" title="7"></a>
<a class="sourceLine" id="cb114-8" title="8"><span class="kw">head</span> (tall)<span class="co"># see how I recreate the original data?</span></a></code></pre></div>
<pre><code>##   SUBJ GROUP TIME SIDE SET REP AEXTTORQ
## 1    1     G POST    L   1   1       73
## 2    2     G POST    L   1   1       60
## 3    3     T POST    L   1   1       72
## 4    4     G POST    L   1   1       90
## 5    5     T POST    L   1   1      100
## 6    6     T POST    L   1   1      109</code></pre>
</div>
</div>
<div id="renaming-variables-and-values" class="section level2">
<h2><span class="header-section-number">6.5</span> Renaming variables and values</h2>
<div id="rename-variable-names" class="section level3 unnumbered">
<h3>Rename variable names</h3>
<p>I dislike excessively using capitals. It is alot of effort.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" title="1"><span class="co"># Upper to lower caps</span></a>
<a class="sourceLine" id="cb116-2" title="2"><span class="kw">colnames</span> (strn) &lt;-<span class="st">  </span><span class="kw">tolower</span>(<span class="kw">colnames</span> (strn)) <span class="co"># captials to lower caps</span></a>
<a class="sourceLine" id="cb116-3" title="3"></a>
<a class="sourceLine" id="cb116-4" title="4"><span class="co"># Manually create new names</span></a>
<a class="sourceLine" id="cb116-5" title="5">strn &lt;-<span class="st"> </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb116-6" title="6"><span class="st">  </span><span class="kw">rename</span> (<span class="dt">atorq =</span> aexttorq, <span class="co"># new name = old name</span></a>
<a class="sourceLine" id="cb116-7" title="7">          <span class="dt">awork =</span> aextwork,</a>
<a class="sourceLine" id="cb116-8" title="8">          <span class="dt">apow =</span> aextpow,</a>
<a class="sourceLine" id="cb116-9" title="9">          <span class="dt">ktorq =</span> kexttorq,</a>
<a class="sourceLine" id="cb116-10" title="10">          <span class="dt">kwork =</span> kextwork,</a>
<a class="sourceLine" id="cb116-11" title="11">          <span class="dt">kpow =</span> kextpow)</a>
<a class="sourceLine" id="cb116-12" title="12"></a>
<a class="sourceLine" id="cb116-13" title="13"><span class="kw">head</span> (strn)</a></code></pre></div>
<pre><code>##   subj group time side set rep atorq awork apow ktorq kwork kpow
## 1    1     G  PRE    R   1   1    70    34   58   111   107   92
## 2    1     G  PRE    R   1   2    72    36   70   137   113  139
## 3    1     G  PRE    R   1   3    73    37   67   160   130  136
## 4    1     G  PRE    R   1   4    73    35   69   137   115  121
## 5    1     G  PRE    R   2   1    72    36   65   160   140  164
## 6    1     G  PRE    R   2   2    72    32   51   163   139  165</code></pre>
</div>
<div id="rename-values-in-variable-names" class="section level3 unnumbered">
<h3>Rename values in variable names</h3>
<p>Let’s us rename the values within the variable called GROUP. Instead of G, call it general; instead of T, call it target</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" title="1">strn &lt;-<span class="st"> </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-2" title="2"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">group =</span> <span class="kw">recode</span> (group, <span class="co"># the variable name</span></a>
<a class="sourceLine" id="cb118-3" title="3">                          <span class="st">&quot;G&quot;</span> =<span class="st"> &quot;general&quot;</span>, <span class="co"># old label = new label</span></a>
<a class="sourceLine" id="cb118-4" title="4">                          <span class="st">&quot;T&quot;</span> =<span class="st"> &quot;target&quot;</span>)) <span class="co"># old label = new label</span></a>
<a class="sourceLine" id="cb118-5" title="5"></a>
<a class="sourceLine" id="cb118-6" title="6"><span class="kw">head</span> (strn)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow
## 1    1 general  PRE    R   1   1    70    34   58   111   107   92
## 2    1 general  PRE    R   1   2    72    36   70   137   113  139
## 3    1 general  PRE    R   1   3    73    37   67   160   130  136
## 4    1 general  PRE    R   1   4    73    35   69   137   115  121
## 5    1 general  PRE    R   2   1    72    36   65   160   140  164
## 6    1 general  PRE    R   2   2    72    32   51   163   139  165</code></pre>
</div>
<div id="creating-factors" class="section level3 unnumbered">
<h3>Creating factors</h3>
<p>Since R can handle factor variables (see <code>?factor</code>), we can recode the levels to be more intuitive. Why do you need to convert categorical variables to factors? For now, let’s accept it, for every statistical thing you do with categorical variables must be factors.</p>
<p>Make group, time, side, a factor</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" title="1">strn &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-2" title="2"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">group =</span> <span class="kw">factor</span> (group, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;general&quot;</span>, <span class="st">&quot;target&quot;</span>)), <span class="co"># levels = c(first, second)</span></a>
<a class="sourceLine" id="cb120-3" title="3">          <span class="dt">time =</span> <span class="kw">factor</span> (time, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;PRE&quot;</span>, <span class="st">&quot;POST&quot;</span>)),</a>
<a class="sourceLine" id="cb120-4" title="4">          <span class="dt">side =</span> <span class="kw">factor</span> (side, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;L&quot;</span>, <span class="st">&quot;R&quot;</span>)))</a>
<a class="sourceLine" id="cb120-5" title="5"></a>
<a class="sourceLine" id="cb120-6" title="6"><span class="kw">head</span> (strn)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow
## 1    1 general  PRE    R   1   1    70    34   58   111   107   92
## 2    1 general  PRE    R   1   2    72    36   70   137   113  139
## 3    1 general  PRE    R   1   3    73    37   67   160   130  136
## 4    1 general  PRE    R   1   4    73    35   69   137   115  121
## 5    1 general  PRE    R   2   1    72    36   65   160   140  164
## 6    1 general  PRE    R   2   2    72    32   51   163   139  165</code></pre>
</div>
</div>
<div id="making-a-new-variable" class="section level2">
<h2><span class="header-section-number">6.6</span> Making a new variable</h2>
<p>I want to:</p>
<ol style="list-style-type: decimal">
<li>add ankle torque and knee torque to create a new variable called total torque</li>
<li>subtract their torques to create a variable called dtorq</li>
</ol>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" title="1">strn &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb122-2" title="2"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">ttorq =</span> atorq <span class="op">+</span><span class="st"> </span>ktorq, <span class="co"># this will add a new variable called ttorq</span></a>
<a class="sourceLine" id="cb122-3" title="3">          <span class="dt">dtorq =</span> atorq <span class="op">-</span><span class="st"> </span>ktorq) <span class="co"># this will add a new variable called dtorq</span></a>
<a class="sourceLine" id="cb122-4" title="4"><span class="kw">head</span> (strn)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    1 general  PRE    R   1   1    70    34   58   111   107   92   181   -41
## 2    1 general  PRE    R   1   2    72    36   70   137   113  139   209   -65
## 3    1 general  PRE    R   1   3    73    37   67   160   130  136   233   -87
## 4    1 general  PRE    R   1   4    73    35   69   137   115  121   210   -64
## 5    1 general  PRE    R   2   1    72    36   65   160   140  164   232   -88
## 6    1 general  PRE    R   2   2    72    32   51   163   139  165   235   -91</code></pre>
<p>You are only interested in the change scores of each subject’s average strength</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" title="1">strn_change &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># original data</span></a>
<a class="sourceLine" id="cb124-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(subj, group, time) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># calculate an outcome per group</span></a>
<a class="sourceLine" id="cb124-3" title="3"><span class="st">  </span><span class="kw">summarize</span> (<span class="dt">atorq =</span> <span class="kw">mean</span> (atorq)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># in this case you want to calculate average</span></a>
<a class="sourceLine" id="cb124-4" title="4"><span class="st">  </span><span class="kw">spread</span> (<span class="dt">key =</span> time, <span class="dt">value =</span> atorq) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># spread it</span></a>
<a class="sourceLine" id="cb124-5" title="5"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">atorq_diff =</span> POST<span class="op">-</span>PRE)  <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># find the difference</span></a>
<a class="sourceLine" id="cb124-6" title="6"><span class="st">  </span><span class="kw">ungroup</span> ()</a></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;subj&#39;, &#39;group&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" title="1"><span class="kw">head</span> (strn)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    1 general  PRE    R   1   1    70    34   58   111   107   92   181   -41
## 2    1 general  PRE    R   1   2    72    36   70   137   113  139   209   -65
## 3    1 general  PRE    R   1   3    73    37   67   160   130  136   233   -87
## 4    1 general  PRE    R   1   4    73    35   69   137   115  121   210   -64
## 5    1 general  PRE    R   2   1    72    36   65   160   140  164   232   -88
## 6    1 general  PRE    R   2   2    72    32   51   163   139  165   235   -91</code></pre>
</div>
<div id="transforming-a-variable" class="section level2">
<h2><span class="header-section-number">6.7</span> Transforming a variable</h2>
<p>The subject’s mass is stored in another file called <code>subjdat</code>. we need to merge two documents making sure each row is joined correctly.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" title="1"><span class="co"># convert names to lower cases</span></a>
<a class="sourceLine" id="cb128-2" title="2"><span class="kw">colnames</span> (subjdat)  &lt;-<span class="st">  </span><span class="kw">tolower</span> (<span class="kw">colnames</span> (subjdat))</a>
<a class="sourceLine" id="cb128-3" title="3"></a>
<a class="sourceLine" id="cb128-4" title="4"><span class="co"># create another object, keeping only two variables of </span></a>
<a class="sourceLine" id="cb128-5" title="5">subj_mass &lt;-<span class="st">  </span><span class="kw">select</span> (subjdat, <span class="co"># original dataframe</span></a>
<a class="sourceLine" id="cb128-6" title="6">                      subj, wt) <span class="co"># two variables</span></a>
<a class="sourceLine" id="cb128-7" title="7"></a>
<a class="sourceLine" id="cb128-8" title="8"><span class="co"># </span></a>
<a class="sourceLine" id="cb128-9" title="9">strn_scal &lt;-<span class="st">  </span>subj_mass <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-10" title="10"><span class="st">  </span><span class="kw">inner_join</span>(strn, <span class="dt">by =</span> <span class="st">&quot;subj&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># combine two dataframes, ensuring each rows are combined exactly</span></a>
<a class="sourceLine" id="cb128-11" title="11"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">ttorq_s =</span> ttorq<span class="op">/</span>wt, <span class="co"># divide total torque by weight</span></a>
<a class="sourceLine" id="cb128-12" title="12">          <span class="dt">dtorq_s =</span> dtorq<span class="op">/</span>wt) <span class="co"># divide difference torque by weight</span></a>
<a class="sourceLine" id="cb128-13" title="13"></a>
<a class="sourceLine" id="cb128-14" title="14"><span class="kw">head</span> (strn_scal)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 17
##    subj    wt group  time  side    set   rep atorq awork  apow ktorq kwork  kpow
##   &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1  82.3 gener~ PRE   R         1     1    70    34    58   111   107    92
## 2     1  82.3 gener~ PRE   R         1     2    72    36    70   137   113   139
## 3     1  82.3 gener~ PRE   R         1     3    73    37    67   160   130   136
## 4     1  82.3 gener~ PRE   R         1     4    73    35    69   137   115   121
## 5     1  82.3 gener~ PRE   R         2     1    72    36    65   160   140   164
## 6     1  82.3 gener~ PRE   R         2     2    72    32    51   163   139   165
## # ... with 4 more variables: ttorq &lt;dbl&gt;, dtorq &lt;dbl&gt;, ttorq_s &lt;dbl&gt;,
## #   dtorq_s &lt;dbl&gt;</code></pre>
</div>
<div id="filtering" class="section level2">
<h2><span class="header-section-number">6.8</span> Filtering</h2>
<p>Filtering is removing rows you do not want and keeping rows you want based on some condition(s).</p>
<div id="keep-rows-based-on-category-you-wish-to-keep" class="section level3">
<h3><span class="header-section-number">6.8.1</span> Keep rows based on category you wish to keep</h3>
<p>You are only interested in keeping pre strength variables</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" title="1">strn_pre &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb130-2" title="2"><span class="st">      </span><span class="kw">filter</span> (time <span class="op">==</span><span class="st"> &quot;PRE&quot;</span>)</a>
<a class="sourceLine" id="cb130-3" title="3"></a>
<a class="sourceLine" id="cb130-4" title="4"><span class="kw">head</span> (strn_pre)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    1 general  PRE    R   1   1    70    34   58   111   107   92   181   -41
## 2    1 general  PRE    R   1   2    72    36   70   137   113  139   209   -65
## 3    1 general  PRE    R   1   3    73    37   67   160   130  136   233   -87
## 4    1 general  PRE    R   1   4    73    35   69   137   115  121   210   -64
## 5    1 general  PRE    R   2   1    72    36   65   160   140  164   232   -88
## 6    1 general  PRE    R   2   2    72    32   51   163   139  165   235   -91</code></pre>
</div>
<div id="include-rows-based-on-a-numerical-range" class="section level3">
<h3><span class="header-section-number">6.8.2</span> Include rows based on a numerical range</h3>
<p>Keep ankle torque values less than 100 in magnitude and knee torque more than 150</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" title="1">strn_filt &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb132-2" title="2"><span class="st">      </span><span class="kw">filter</span> (atorq <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span> <span class="op">&amp;</span><span class="st"> </span>ktorq <span class="op">&gt;</span><span class="st"> </span><span class="dv">150</span>)</a>
<a class="sourceLine" id="cb132-3" title="3"></a>
<a class="sourceLine" id="cb132-4" title="4"><span class="kw">head</span> (strn_filt)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    1 general  PRE    R   1   3    73    37   67   160   130  136   233   -87
## 2    1 general  PRE    R   2   1    72    36   65   160   140  164   232   -88
## 3    1 general  PRE    R   2   2    72    32   51   163   139  165   235   -91
## 4    1 general  PRE    R   2   3    67    34   63   157   133  155   224   -90
## 5    1 general  PRE    R   2   4    72    36   66   165   145  158   237   -93
## 6    1 general  PRE    L   2   1    64    33   63   170   168  165   234  -106</code></pre>
</div>
<div id="exclude-rows-variables-based-on-a-numerical-range" class="section level3">
<h3><span class="header-section-number">6.8.3</span> Exclude rows variables based on a numerical range</h3>
<p>Exclude ankle torque values less than 100</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" title="1"><span class="co"># notice the !. It is equivalent to saying &quot;not&quot;. Not less than 100 in this instance</span></a>
<a class="sourceLine" id="cb134-2" title="2"></a>
<a class="sourceLine" id="cb134-3" title="3">strn_filt &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb134-4" title="4"><span class="st">      </span><span class="kw">filter</span> (<span class="op">!</span>atorq <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span>) </a>
<a class="sourceLine" id="cb134-5" title="5"></a>
<a class="sourceLine" id="cb134-6" title="6"><span class="kw">head</span> (strn_filt)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    4 general POST    R   2   1   108    50   76   182   194  177   290   -74
## 2    4 general POST    R   2   2   107    49   79   179   182  185   286   -72
## 3    4 general POST    R   2   3   104    44   74   169   180  175   273   -65
## 4    4 general POST    R   2   4   106    49   86   176   185  173   282   -70
## 5    4 general POST    L   2   1   104    50   95   138   166  141   242   -34
## 6    4 general POST    L   2   2   100    48   98   141   158  145   241   -41</code></pre>
</div>
</div>
<div id="selecting" class="section level2">
<h2><span class="header-section-number">6.9</span> Selecting</h2>
<p>Selecting removing columns you do not want and keeping columns you want</p>
<p>You are only interested in keeping columns <code>subj</code>, <code>group</code> in dataframe <code>strn</code></p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" title="1">strn.subset &lt;-<span class="st">  </span>strn <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb136-2" title="2"><span class="st">      </span><span class="kw">select</span> (subj, group)</a>
<a class="sourceLine" id="cb136-3" title="3"></a>
<a class="sourceLine" id="cb136-4" title="4"><span class="kw">head</span> (strn.subset)</a></code></pre></div>
<pre><code>##   subj   group
## 1    1 general
## 2    1 general
## 3    1 general
## 4    1 general
## 5    1 general
## 6    1 general</code></pre>
</div>
<div id="check-for-missing-na-values" class="section level2">
<h2><span class="header-section-number">6.10</span> Check for missing NA values</h2>
<div id="check-if-there-is-any-missing" class="section level3">
<h3><span class="header-section-number">6.10.1</span> Check if there is any missing</h3>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" title="1">na_count &lt;-<span class="st">  </span><span class="kw">sum</span> (<span class="kw">is.na</span> (strn))</a>
<a class="sourceLine" id="cb138-2" title="2"></a>
<a class="sourceLine" id="cb138-3" title="3"><span class="kw">cat</span> (<span class="st">&quot;The number of missing values =&quot;</span>, na_count)</a></code></pre></div>
<pre><code>## The number of missing values = 0</code></pre>
<p>For the sick of practice, let me create a dataset with NA in each. You do not have to know this.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" title="1">strn.miss &lt;-<span class="st"> </span>strn</a>
<a class="sourceLine" id="cb140-2" title="2"></a>
<a class="sourceLine" id="cb140-3" title="3">strn.miss[,<span class="kw">c</span>(<span class="dv">7</span><span class="op">:</span><span class="dv">14</span>)] &lt;-<span class="st">  </span><span class="kw">map_df</span>(strn.miss [,<span class="kw">c</span>(<span class="dv">7</span><span class="op">:</span><span class="dv">14</span>)],</a>
<a class="sourceLine" id="cb140-4" title="4">                               <span class="cf">function</span>(x) {x[<span class="kw">sample</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">NA</span>), </a>
<a class="sourceLine" id="cb140-5" title="5">                                                     <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.9</span>, <span class="fl">0.1</span>), </a>
<a class="sourceLine" id="cb140-6" title="6">                                                     <span class="dt">size =</span> <span class="kw">length</span>(x),</a>
<a class="sourceLine" id="cb140-7" title="7">                                                     <span class="dt">replace =</span> <span class="ot">TRUE</span>)]})</a>
<a class="sourceLine" id="cb140-8" title="8"></a>
<a class="sourceLine" id="cb140-9" title="9">strn.miss [<span class="dv">100</span>,<span class="kw">c</span>(<span class="dv">7</span><span class="op">:</span><span class="dv">14</span>)] =<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb140-10" title="10"></a>
<a class="sourceLine" id="cb140-11" title="11">na_count =<span class="st"> </span><span class="kw">sum</span> (<span class="kw">is.na</span> (strn.miss))</a>
<a class="sourceLine" id="cb140-12" title="12"></a>
<a class="sourceLine" id="cb140-13" title="13"><span class="kw">cat</span> (<span class="st">&quot;The number of missing values is now =&quot;</span>, na_count)</a></code></pre></div>
<pre><code>## The number of missing values is now = 759</code></pre>
</div>
<div id="find-the-number-of-missing-values-per-column" class="section level3">
<h3><span class="header-section-number">6.10.2</span> Find the number of missing values per column</h3>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" title="1">na_count &lt;-<span class="st">  </span>strn.miss <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb142-2" title="2"><span class="st">  </span><span class="kw">select</span>(<span class="kw">everything</span>()) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># replace to your needs</span></a>
<a class="sourceLine" id="cb142-3" title="3"><span class="st">  </span><span class="kw">summarise_all</span>(<span class="kw">funs</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(.))))</a></code></pre></div>
<pre><code>## Warning: `funs()` is deprecated as of dplyr 0.8.0.
## Please use a list of either functions or lambdas: 
## 
##   # Simple named list: 
##   list(mean = mean, median = median)
## 
##   # Auto named with `tibble::lst()`: 
##   tibble::lst(mean, median)
## 
##   # Using lambdas
##   list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" title="1"><span class="kw">kable</span> (na_count, <span class="dt">caption =</span> <span class="st">&quot;Number of missing per col&quot;</span>) </a></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-18">Table 6.1: </span>Number of missing per col</caption>
<thead>
<tr class="header">
<th align="right">subj</th>
<th align="right">group</th>
<th align="right">time</th>
<th align="right">side</th>
<th align="right">set</th>
<th align="right">rep</th>
<th align="right">atorq</th>
<th align="right">awork</th>
<th align="right">apow</th>
<th align="right">ktorq</th>
<th align="right">kwork</th>
<th align="right">kpow</th>
<th align="right">ttorq</th>
<th align="right">dtorq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">89</td>
<td align="right">102</td>
<td align="right">95</td>
<td align="right">88</td>
<td align="right">104</td>
<td align="right">83</td>
<td align="right">101</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
</div>
<div id="keep-rows-with-100-no-na-across-any-columns" class="section level3">
<h3><span class="header-section-number">6.10.3</span> Keep rows with 100% no NA across any columns</h3>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" title="1">strn_compl &lt;-<span class="st">  </span>strn.miss <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb145-2" title="2"><span class="st">  </span><span class="kw">na.omit</span> ()</a></code></pre></div>
</div>
<div id="keep-rows-with-100-no-na-across-the-columns-you-want" class="section level3">
<h3><span class="header-section-number">6.10.4</span> Keep rows with 100% no NA across the columns you want</h3>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" title="1">col2filt =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;atorq&quot;</span>, <span class="st">&quot;ktorq&quot;</span>) <span class="co"># add as many variables you want</span></a>
<a class="sourceLine" id="cb146-2" title="2"></a>
<a class="sourceLine" id="cb146-3" title="3">strn_compl &lt;-<span class="st">  </span>strn.miss <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb146-4" title="4"><span class="st">  </span><span class="kw">filter_at</span>(<span class="kw">vars</span>(col2filt), <span class="kw">all_vars</span>(<span class="kw">complete.cases</span>(.)))</a></code></pre></div>
<pre><code>## Note: Using an external vector in selections is ambiguous.
## i Use `all_of(col2filt)` instead of `col2filt` to silence this message.
## i See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" title="1"><span class="kw">head</span> (strn_compl)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    1 general  PRE    R   1   1    70    34   58   111   107   92   181   -41
## 2    1 general  PRE    R   1   3    73    37   67   160    NA  136   233   -87
## 3    1 general  PRE    R   2   1    72    36   65   160   140  164   232   -88
## 4    1 general  PRE    R   2   2    72    32   51   163   139  165   235   -91
## 5    1 general  PRE    R   2   3    67    34   63   157   133  155   224   -90
## 6    1 general  PRE    R   2   4    72    NA   66   165   145  158   237   -93</code></pre>
</div>
<div id="keep-rows-with-na-across-columns-you-want." class="section level3">
<h3><span class="header-section-number">6.10.5</span> Keep rows <strong>with</strong> NA across columns you want.</h3>
<p>Keeping NA is useful if you want to inspect if the missing-ness is due to data entry errors, etc…</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" title="1">col2filt =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;atorq&quot;</span>, <span class="st">&quot;ktorq&quot;</span>) <span class="co"># add as many variables you want</span></a>
<a class="sourceLine" id="cb150-2" title="2"></a>
<a class="sourceLine" id="cb150-3" title="3">strn_miss &lt;-<span class="st">  </span>strn.miss <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb150-4" title="4"><span class="st">  </span><span class="kw">filter_at</span>(<span class="kw">vars</span>(col2filt), <span class="kw">all_vars</span>(<span class="op">!</span><span class="kw">complete.cases</span>(.))) </a>
<a class="sourceLine" id="cb150-5" title="5"></a>
<a class="sourceLine" id="cb150-6" title="6"><span class="kw">head</span> (strn_miss)</a></code></pre></div>
<pre><code>##   subj   group time side set rep atorq awork apow ktorq kwork kpow ttorq dtorq
## 1    3  target  PRE    L   2   4    NA    25   50    NA   133   NA   177   -73
## 2    3  target POST    L   2   4    NA    36   61    NA   132  121   195   -47
## 3    4 general  PRE    R   1   4    NA    NA   NA    NA    NA   NA    NA    NA
## 4    8 general POST    L   1   1    NA    51   92    NA    NA  148   264   -32
## 5   15 general  PRE    L   1   1    NA    30   68    NA   196  137   244  -114
## 6   23  target POST    R   1   3    NA    NA   57    NA    NA  119   174   -54</code></pre>
</div>
</div>
<div id="learning-check" class="section level2 unnumbered">
<h2>Learning check</h2>
<ol style="list-style-type: decimal">
<li><p>Open up your <code>practice.Rmd</code>. Run the code chunks you created in sequential order.</p></li>
<li><p>Create a code chunk and open up the three files above into the R workspace. Subsequently, any task should automatically be associated with creating a new code chunk. If unsure, have more chunks.</p></li>
<li><p>Make all column header names to lowercases.</p></li>
<li><p>Remove <code>aexttorq</code> values that are below 75, and assign this new data to an object called <code>strn.sub</code>. How many rows are left in the new dataframe.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="input-and-output.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="general-statistics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"download": ["pdf", "epub"]
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
